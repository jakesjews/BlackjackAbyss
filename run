#!/usr/bin/env bash
set -euo pipefail

usage() {
  cat <<'EOF'
Usage:
  ./run avatar
  ./run avatar "custom name"

Env:
  OPENAI_API_KEY   Required for avatar generation.
  OPENAI_IMAGE_MODEL (optional, default: gpt-image-1)
EOF
}

if [[ $# -lt 1 ]]; then
  usage
  exit 1
fi

cmd="$1"
shift

case "$cmd" in
  avatar)
    node scripts/generate-avatar.js "$@"
    ;;
  -h|--help|help)
    usage
    ;;
  *)
    echo "Unknown command: $cmd" >&2
    usage
    exit 1
    ;;
esac
